#!/bin/bash

# Setup script for Ubuntu

echo "Installing dependencies..."
sudo apt update && sudo apt install -y build-essential cmake git curl

if ! command -v docker &> /dev/null; then
    echo "Installing Docker..."
    curl -fsSL https://get.docker.com -o get-docker.sh
    sudo sh get-docker.sh
    sudo usermod -aG docker $USER
fi

if ! command -v go &> /dev/null; then
    echo "Installing Go 1.22..."
    wget https://go.dev/dl/go1.22.0.linux-amd64.tar.gz
    sudo tar -C /usr/local -xzf go1.22.0.linux-amd64.tar.gz
    echo 'export PATH=$PATH:/usr/local/go/bin' >> ~/.bashrc
    export PATH=$PATH:/usr/local/go/bin
fi

echo "Setup complete. Please restart your shell."
